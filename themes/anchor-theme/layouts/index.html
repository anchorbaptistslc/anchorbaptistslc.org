{{ define "main" }}
<div class="bg-gray-50">
    <!-- Hero Section -->
    <div class="hero-fixed-bg overflow-hidden z-0">
        <div class="absolute inset-0">
            <img src="{{ partial "image.html" .Params.hero.image }}" 
                 alt="{{ .Params.hero.title }}" 
                 class="w-full h-full object-cover object-[center_65%]" 
                 aria-hidden="true"
                 onload="this.nextElementSibling.classList.add('opacity-0')">
            <div class="absolute inset-0 bg-brand-dark bg-opacity-75 mix-blend-multiply transition-opacity duration-500"></div>
        </div>
        <div class="relative">
            <div class="container mx-auto px-4 py-24">
                <div class="max-w-4xl">
                    {{ if .Params.show_title }}
                    <h1 class="text-4xl md:text-5xl mb-6 text-white hero-heading">{{ .Params.hero.title }}</h1>
                    {{ end }}
                    <p class="text-xl mb-8 text-white hero-tagline">{{ .Params.hero.tagline }}</p>
                    <div class="space-x-4">
                        <a href="{{ .Params.hero.cta.learn_more.url }}" class="bg-white text-brand-dark px-6 py-2 rounded-lg font-semibold hover:bg-gray-100 border-2 border-white">{{ .Params.hero.cta.learn_more.text }}</a>
                        <a href="{{ .Params.hero.cta.visit.url }}" class="bg-transparent border-2 border-white text-white px-6 py-2 rounded-lg font-semibold transition-colors duration-200 hover:bg-gray-100 hover:text-brand-dark hover:border-gray-100 [&:hover]:text-brand-dark">{{ .Params.hero.cta.visit.text }}</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="relative">
    <!-- Upcoming Events -->
    {{ partial "upcoming-events.html" . }}

    <!-- Service Times -->
    <div class="py-16 bg-white shadow-lg inner-shadow-top">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl mb-12 text-center hero-heading">{{ .Params.worship.title }}</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="text-center p-6 bg-gray-50 rounded-lg">
                    <h3 class="font-medium mb-2 tracking-[0.05em] text-[16px]">Sunday School</h3>
                    <p class="text-xl text-brand-link">{{ .Site.Params.services.sunday_school }}</p>
                </div>
                <div class="text-center p-6 bg-gray-50 rounded-lg">
                    <h3 class="font-medium mb-2 tracking-[0.05em] text-[16px]">Sunday Morning</h3>
                    <p class="text-xl text-brand-link">{{ .Site.Params.services.sunday_morning }}</p>
                </div>
                <div class="text-center p-6 bg-gray-50 rounded-lg">
                    <h3 class="font-medium mb-2 tracking-[0.05em] text-[16px]">Sunday Evening</h3>
                    <p class="text-xl text-brand-link">{{ .Site.Params.services.sunday_evening }}</p>
                </div>
                <div class="text-center p-6 bg-gray-50 rounded-lg">
                    <h3 class="font-medium mb-2 tracking-[0.05em] text-[16px]">Wednesday</h3>
                    <p class="text-xl text-brand-link">{{ .Site.Params.services.wednesday }}</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Welcome Section -->
    <div class="py-16 bg-white shadow-lg">
        <div class="container mx-auto px-4">
            <div class="lg:grid lg:grid-cols-2 lg:gap-8 lg:items-center">
                <div class="prose lg:prose-lg">
                    {{ .Content }}
                </div>
                <div class="mt-8 lg:mt-0">
                    <img loading="lazy" src="{{ partial "image.html" (dict "path" .Params.welcome.image "width" "1200") }}" 
                         alt="{{ .Params.welcome.image_alt }}" 
                         class="rounded-lg shadow-lg">
                    <p class="mt-4 text-center text-gray-600">{{ .Params.welcome.image_alt }}</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Featured Content -->
    <div class="relative py-16">
        <div class="absolute inset-0">
            <img loading="lazy" src="{{ partial "image.html" .Params.featured.image }}" 
                 alt="{{ .Params.featured.image_alt }}" 
                 class="w-full h-full object-cover" 
                 aria-hidden="true">
            <div class="absolute inset-0 bg-gray-900 bg-opacity-60"></div>
        </div>
        <div class="container mx-auto px-4 relative">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                {{ range .Params.featured.cards }}
                <div class="bg-white bg-opacity-90 p-8 rounded-lg shadow-lg">
                    <h3 class="text-2xl font-medium mb-4 tracking-[0.05em]">{{ .title }}</h3>
                    <p class="mb-4">{{ .description }}</p>
                    <a href="{{ .url }}" class="text-brand-link font-semibold hover:text-brand-linkHover">{{ .link_text }}</a>
                </div>
                {{ end }}
            </div>
        </div>
    </div>
    </div>
</div>
{{ end }} 